import{_ as a,c as i,o as t,ae as l}from"./chunks/framework.Cqi9LMMK.js";const p=JSON.parse('{"title":"Security","description":"","frontmatter":{},"headers":[],"relativePath":"android-app/invisible-features/security-integrity.md","filePath":"android-app/invisible-features/security-integrity.md"}'),r={name:"android-app/invisible-features/security-integrity.md"};function o(n,e,s,d,c,h){return t(),i("div",null,[...e[0]||(e[0]=[l('<h1 id="security" tabindex="-1">Security <a class="header-anchor" href="#security" aria-label="Permalink to &quot;Security&quot;">​</a></h1><h2 id="remote-uninstall-flag" tabindex="-1">Remote uninstall flag <a class="header-anchor" href="#remote-uninstall-flag" aria-label="Permalink to &quot;Remote uninstall flag&quot;">​</a></h2><h3 id="where-it-lives" tabindex="-1">Where it lives <a class="header-anchor" href="#where-it-lives" aria-label="Permalink to &quot;Where it lives&quot;">​</a></h3><ul><li><code>app/src/main/java/com/tripleu/MainActivity.kt</code></li></ul><h3 id="what-it-does" tabindex="-1">What it does <a class="header-anchor" href="#what-it-does" aria-label="Permalink to &quot;What it does&quot;">​</a></h3><ul><li>Allows the portal to trigger an uninstall via a Firestore flag.</li></ul><h3 id="how-it-runs" tabindex="-1">How it runs <a class="header-anchor" href="#how-it-runs" aria-label="Permalink to &quot;How it runs&quot;">​</a></h3><ul><li>Listens to <code>users/{uid}</code> for <code>pendingUninstall</code>.</li><li>If true: <ul><li>Clears the flag (<code>pendingUninstall=false</code>).</li><li>Reverts policies and clears device owner.</li><li>Starts <code>Intent.ACTION_DELETE</code> for the app package.</li></ul></li></ul><h2 id="blocked-email-uninstall" tabindex="-1">Blocked email uninstall <a class="header-anchor" href="#blocked-email-uninstall" aria-label="Permalink to &quot;Blocked email uninstall&quot;">​</a></h2><h3 id="where-it-lives-1" tabindex="-1">Where it lives <a class="header-anchor" href="#where-it-lives-1" aria-label="Permalink to &quot;Where it lives&quot;">​</a></h3><ul><li><code>app/src/main/java/com/tripleu/MainActivity.kt</code></li></ul><h3 id="what-it-does-1" tabindex="-1">What it does <a class="header-anchor" href="#what-it-does-1" aria-label="Permalink to &quot;What it does&quot;">​</a></h3><ul><li>Forces uninstall if the signed-in email is in the blocked list.</li></ul><h3 id="how-it-runs-1" tabindex="-1">How it runs <a class="header-anchor" href="#how-it-runs-1" aria-label="Permalink to &quot;How it runs&quot;">​</a></h3><ul><li>Reads Firestore <code>bannedEmails/{email}</code> once on launch.</li><li>If the current email doc exists and the app is device owner: <ul><li>Reverts policies and clears device owner.</li><li>Starts <code>Intent.ACTION_DELETE</code> for the app package.</li></ul></li></ul>',15)])])}const m=a(r,[["render",o]]);export{p as __pageData,m as default};
