import{_ as i,c as a,o as n,ae as d}from"./chunks/framework.Cqi9LMMK.js";const v=JSON.parse('{"title":"Device binding","description":"","frontmatter":{},"headers":[],"relativePath":"android-app/onboarding/device-binding.md","filePath":"android-app/onboarding/device-binding.md"}'),t={name:"android-app/onboarding/device-binding.md"};function o(r,e,c,l,s,h){return n(),a("div",null,[...e[0]||(e[0]=[d('<h1 id="device-binding" tabindex="-1">Device binding <a class="header-anchor" href="#device-binding" aria-label="Permalink to &quot;Device binding&quot;">​</a></h1><h2 id="where-it-lives" tabindex="-1">Where it lives <a class="header-anchor" href="#where-it-lives" aria-label="Permalink to &quot;Where it lives&quot;">​</a></h2><ul><li><code>app/src/main/java/com/tripleu/device/DeviceBindingManager.kt</code></li></ul><h2 id="what-it-does" tabindex="-1">What it does <a class="header-anchor" href="#what-it-does" aria-label="Permalink to &quot;What it does&quot;">​</a></h2><ul><li>Enforces one-device-per-account using a device keypair.</li><li>Uses Firebase Functions to claim and confirm the device.</li></ul><h2 id="how-it-runs" tabindex="-1">How it runs <a class="header-anchor" href="#how-it-runs" aria-label="Permalink to &quot;How it runs&quot;">​</a></h2><ul><li>Generates an RSA keypair in AndroidKeyStore (<code>mdm_device_binding_key</code>).</li><li>Uses the device ID from <code>FirestoreDevicePaths.deviceId()</code>.</li><li>Calls Firebase Functions: <ul><li><code>requestDeviceBinding</code> (returns <code>deviceId</code> + <code>challenge</code>).</li><li>Signs the challenge with the private key.</li><li><code>confirmDeviceBinding</code> to finalize binding.</li></ul></li><li>If binding fails, sign-in/sign-up is rejected and the user is signed out.</li></ul>',7)])])}const g=i(t,[["render",o]]);export{v as __pageData,g as default};
