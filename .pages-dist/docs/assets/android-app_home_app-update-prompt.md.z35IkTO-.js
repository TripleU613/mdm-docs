import{_ as a,c as o,o as t,ae as i}from"./chunks/framework.Cqi9LMMK.js";const h=JSON.parse('{"title":"App update prompt","description":"","frontmatter":{},"headers":[],"relativePath":"android-app/home/app-update-prompt.md","filePath":"android-app/home/app-update-prompt.md"}'),r={name:"android-app/home/app-update-prompt.md"};function l(p,e,d,s,n,c){return t(),o("div",null,[...e[0]||(e[0]=[i('<h1 id="app-update-prompt" tabindex="-1">App update prompt <a class="header-anchor" href="#app-update-prompt" aria-label="Permalink to &quot;App update prompt&quot;">​</a></h1><h2 id="where-it-lives" tabindex="-1">Where it lives <a class="header-anchor" href="#where-it-lives" aria-label="Permalink to &quot;Where it lives&quot;">​</a></h2><ul><li><code>app/src/main/java/com/tripleu/ui/fragments/HomeFragment.kt</code></li><li><code>app/src/main/java/com/tripleu/ui/fragments/HomeScreenContent.kt</code></li><li><code>app/src/main/java/com/tripleu/updates/AppReleaseChecker.kt</code></li></ul><h2 id="what-it-does" tabindex="-1">What it does <a class="header-anchor" href="#what-it-does" aria-label="Permalink to &quot;What it does&quot;">​</a></h2><ul><li>Shows a modal when a newer app build is available.</li><li>Actions: Download, Remind later, Never show.</li></ul><h2 id="how-it-runs" tabindex="-1">How it runs <a class="header-anchor" href="#how-it-runs" aria-label="Permalink to &quot;How it runs&quot;">​</a></h2><ul><li><code>HomeFragment.checkForAppRelease()</code> runs on resume and after manual checks.</li><li>It calls <code>AppReleaseChecker.fetchLatestRelease()</code> and compares <code>versionCode</code>.</li><li>Suppression prefs: <ul><li><code>app_update_remind_after</code> + <code>app_update_remind_version</code> (6 hour snooze).</li><li><code>app_update_never_version</code> (never show for that version or lower).</li></ul></li><li>Download action calls <code>AppReleaseChecker.downloadAndInstall()</code>: <ul><li>If device owner, uses silent install.</li><li>Otherwise starts the system installer via <code>FileProvider</code>.</li></ul></li><li>If a manual check finds no update, it shows a simple &quot;no update&quot; dialog.</li></ul>',7)])])}const m=a(r,[["render",l]]);export{h as __pageData,m as default};
