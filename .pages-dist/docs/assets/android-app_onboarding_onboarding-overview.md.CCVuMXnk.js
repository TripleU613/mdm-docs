import{_ as e,c as t,o as a,ae as o}from"./chunks/framework.Cqi9LMMK.js";const h=JSON.parse('{"title":"Onboarding overview","description":"","frontmatter":{},"headers":[],"relativePath":"android-app/onboarding/onboarding-overview.md","filePath":"android-app/onboarding/onboarding-overview.md"}'),r={name:"android-app/onboarding/onboarding-overview.md"};function n(c,i,l,s,d,u){return a(),t("div",null,[...i[0]||(i[0]=[o('<h1 id="onboarding-overview" tabindex="-1">Onboarding overview <a class="header-anchor" href="#onboarding-overview" aria-label="Permalink to &quot;Onboarding overview&quot;">​</a></h1><h2 id="where-it-lives" tabindex="-1">Where it lives <a class="header-anchor" href="#where-it-lives" aria-label="Permalink to &quot;Where it lives&quot;">​</a></h2><ul><li><code>app/src/main/java/com/tripleu/ui/activities/RegisterActivity.kt</code></li><li><code>app/src/main/java/com/tripleu/ui/activities/AuthActivity.kt</code></li><li><code>app/src/main/java/com/tripleu/ui/activities/AuthComponents.kt</code></li><li><code>app/src/main/java/com/tripleu/ui/activities/PermissionsCheckActivity.kt</code></li><li><code>app/src/main/java/com/tripleu/MainActivity.kt</code></li></ul><h2 id="what-it-does" tabindex="-1">What it does <a class="header-anchor" href="#what-it-does" aria-label="Permalink to &quot;What it does&quot;">​</a></h2><ul><li>Guides a new user from account creation to device-owner setup.</li><li>Enforces email verification, device binding, and MDM PIN before the main app opens.</li><li>Auth screens show a blocking loading overlay during network actions.</li></ul><h2 id="flow-summary" tabindex="-1">Flow summary <a class="header-anchor" href="#flow-summary" aria-label="Permalink to &quot;Flow summary&quot;">​</a></h2><ul><li>Welcome -&gt; Sign in / Sign up (RegisterActivity nav flow).</li><li>Email verification (VerifyEmailScreen).</li><li>Device binding (DeviceBindingManager).</li><li>MDM PIN gate (AuthActivity).</li><li>Required permissions + device owner setup (PermissionsCheckActivity).</li><li>Main app (MainActivity) only after <code>setup_complete=true</code>.</li></ul><h2 id="registeractivity-routing" tabindex="-1">RegisterActivity routing <a class="header-anchor" href="#registeractivity-routing" aria-label="Permalink to &quot;RegisterActivity routing&quot;">​</a></h2><ul><li>If a user is signed in and verified, it jumps to <code>AuthActivity</code> or <code>MainActivity</code> (based on <code>Session.isAuthenticated</code>).</li><li>If signed in but unverified, it starts at <code>verify_page</code>.</li><li>Otherwise it starts at <code>welcome_page</code>.</li></ul><h2 id="mainactivity-gates" tabindex="-1">MainActivity gates <a class="header-anchor" href="#mainactivity-gates" aria-label="Permalink to &quot;MainActivity gates&quot;">​</a></h2><ul><li>If <code>Session.isAuthenticated</code> is false -&gt; <code>AuthActivity</code>.</li><li>If user is missing or email is unverified -&gt; <code>AuthActivity</code>.</li><li>If <code>setup_complete=false</code> -&gt; <code>PermissionsCheckActivity</code>.</li><li>If the signed-in email exists in Firestore <code>bannedEmails/{email}</code>, it clears device owner and starts uninstall.</li></ul>',11)])])}const m=e(r,[["render",n]]);export{h as __pageData,m as default};
