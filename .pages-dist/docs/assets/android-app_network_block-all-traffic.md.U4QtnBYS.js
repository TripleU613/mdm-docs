import{_ as i,c as o,o as a,ae as l}from"./chunks/framework.Cqi9LMMK.js";const k=JSON.parse('{"title":"Block all traffic","description":"","frontmatter":{},"headers":[],"relativePath":"android-app/network/block-all-traffic.md","filePath":"android-app/network/block-all-traffic.md"}'),r={name:"android-app/network/block-all-traffic.md"};function t(c,e,d,n,s,f){return a(),o("div",null,[...e[0]||(e[0]=[l('<h1 id="block-all-traffic" tabindex="-1">Block all traffic <a class="header-anchor" href="#block-all-traffic" aria-label="Permalink to &quot;Block all traffic&quot;">​</a></h1><h2 id="where-it-lives" tabindex="-1">Where it lives <a class="header-anchor" href="#where-it-lives" aria-label="Permalink to &quot;Where it lives&quot;">​</a></h2><ul><li><code>app/src/main/java/com/tripleu/ui/fragments/PrivacyFragment.kt</code></li><li><code>app/src/main/java/com/tripleu/vpn/AdVpnThread.java</code></li><li><code>app/src/main/java/com/tripleu/config/ConfigPoller.kt</code></li></ul><h2 id="what-it-does" tabindex="-1">What it does <a class="header-anchor" href="#what-it-does" aria-label="Permalink to &quot;What it does&quot;">​</a></h2><ul><li>Forces a blocking VPN profile and disables mobile network config.</li><li>Forces Wi-Fi block while active.</li></ul><h2 id="how-it-runs" tabindex="-1">How it runs <a class="header-anchor" href="#how-it-runs" aria-label="Permalink to &quot;How it runs&quot;">​</a></h2><ul><li>Toggle is enabled only when the VPN firewall is running and whitelist mode is off.</li><li>Ignored when premium VPN (WireGuard) is active.</li><li>Enabling shows a warning dialog, then <code>applyGlobalNetworkBlock(true)</code>: <ul><li>Applies <code>UserManager.DISALLOW_CONFIG_MOBILE_NETWORKS</code>.</li><li>Sets <code>global_network_block_enabled</code> (prefs) and <code>Hawk</code> key <code>isBlockNetwork</code>.</li><li>Forces Wi-Fi block to true and refreshes <code>AdVpnService</code>.</li><li>Writes <code>network.block_all_traffic</code> + <code>network.wifi_blocked</code> to <code>ConfigStore</code>.</li></ul></li><li>Disabling restores the saved Wi-Fi preference and refreshes <code>AdVpnService</code>.</li><li><code>AdVpnThread</code> reads <code>isBlockNetwork</code> to build the blocking VPN interface.</li><li>Cloud config <code>network.block_all_traffic</code> is applied in <code>ConfigPoller</code>.</li></ul>',7)])])}const p=i(r,[["render",t]]);export{k as __pageData,p as default};
