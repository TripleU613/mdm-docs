import{_ as o,c as a,o as i,ae as t}from"./chunks/framework.Cqi9LMMK.js";const h=JSON.parse('{"title":"Export profile","description":"","frontmatter":{},"headers":[],"relativePath":"android-app/settings/export-profile.md","filePath":"android-app/settings/export-profile.md"}'),r={name:"android-app/settings/export-profile.md"};function l(d,e,n,s,p,c){return i(),a("div",null,[...e[0]||(e[0]=[t('<h1 id="export-profile" tabindex="-1">Export profile <a class="header-anchor" href="#export-profile" aria-label="Permalink to &quot;Export profile&quot;">​</a></h1><h2 id="where-it-lives" tabindex="-1">Where it lives <a class="header-anchor" href="#where-it-lives" aria-label="Permalink to &quot;Where it lives&quot;">​</a></h2><ul><li><code>app/src/main/java/com/tripleu/ui/fragments/SettingsFragment.kt</code></li><li><code>app/src/main/java/com/tripleu/config/ProfileBackupManager.kt</code></li><li><code>app/src/main/java/com/tripleu/config/ConfigStore.kt</code></li></ul><h2 id="what-it-does" tabindex="-1">What it does <a class="header-anchor" href="#what-it-does" aria-label="Permalink to &quot;What it does&quot;">​</a></h2><ul><li>Exports non-sensitive config entries to an encrypted file.</li><li>Uses the file picker to create a file named <code>mdm_profile.tripleu</code>.</li><li>Includes managed/approved app policies (hide/suspend/uninstall/network/webview/video + approval).</li></ul><h2 id="how-it-runs" tabindex="-1">How it runs <a class="header-anchor" href="#how-it-runs" aria-label="Permalink to &quot;How it runs&quot;">​</a></h2><ul><li><code>exportProfileLauncher</code> uses <code>CreateDocument(&quot;application/octet-stream&quot;)</code>.</li><li><code>ProfileBackupManager.export()</code>: <ul><li>Reads all <code>ConfigStore</code> entries and filters out sensitive keys (<code>pin</code>, <code>auth</code>, <code>uid</code>, <code>email</code>, <code>snapshot.*</code>).</li><li>Writes a JSON array of <code>{key, value, type, updatedAtMs}</code>.</li><li>Adds an <code>apps</code> array for managed/approved apps only.</li><li>Encrypts the payload with AES/GCM before writing to the selected URI.</li></ul></li></ul>',7)])])}const f=o(r,[["render",l]]);export{h as __pageData,f as default};
